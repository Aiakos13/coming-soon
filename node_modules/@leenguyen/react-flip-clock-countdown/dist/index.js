function e(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var t=e(require("clsx")),n=e(require("react"));function r(){return(r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function o(e){var o,i=e.current,l=e.next,c=e.className,a=e.style,u=n.useState({current:i,next:l}),s=u[0],d=u[1],f=n.useState(!1),v=f[0],m=f[1];return n.useEffect(function(){s.current!==i?(s.current===s.next&&d(r({},s,{next:l})),m(!0)):m(!1)},[i,l]),n.createElement("div",{className:t("_2EBbg",c),style:a},n.createElement("div",{className:"_SKh-V"},s.next),n.createElement("div",{className:"_106d2"},s.current),n.createElement("div",{className:t("_3luxx",(o={},o._2kgZC=v,o)),onTransitionEnd:function(){d({current:i,next:l}),m(!1)}},n.createElement("div",{className:t("_2v-d4","_1GZQ7")},s.current),n.createElement("div",{className:t("_2v-d4","_3AVXa")},s.next)))}function i(e){var t=new Date(e);if(isNaN(t.getTime()))throw Error("Invalid date");var n=new Date,r=Math.round((t.getTime()-n.getTime())/1e3);return r<0&&(r=0),{total:r,days:Math.floor(r/86400),hours:Math.floor(r/3600%24),minutes:Math.floor(r/60%60),seconds:Math.floor(r%60)}}function l(e){return("0".repeat(Math.max(0,2-String(e).length))+String(e)).split("")}function c(e){if(void 0!==e)return"string"==typeof e?e:e+"px"}var a=["to","className","style","children","onComplete","onTick","showLabels","showSeparators","labels","labelStyle","digitBlockStyle","separatorStyle","dividerStyle","duration","renderMap","hideOnComplete"],u=[!0,!0,!0,!0],s=["Days","Hours","Minutes","Seconds"];module.exports=function(e){var d,f=e.to,v=e.className,m=e.style,h=e.children,g=e.onComplete,p=void 0===g?function(){}:g,b=e.onTick,y=void 0===b?function(){}:b,x=e.showLabels,S=void 0===x||x,w=e.showSeparators,E=void 0===w||w,k=e.labels,N=void 0===k?s:k,_=e.labelStyle,M=e.digitBlockStyle,O=e.separatorStyle,T=e.dividerStyle,j=e.duration,z=void 0===j?.7:j,C=e.renderMap,D=void 0===C?u:C,q=e.hideOnComplete,B=void 0===q||q,I=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t.indexOf(n=i[r])>=0||(o[n]=e[n]);return o}(e,a),F=n.useState(X),H=F[0],L=F[1],R=n.useRef(0);function V(){window.clearInterval(R.current)}function X(){var e=i(f);return{timeDelta:e,completed:0===e.total}}function Z(){var e=X();L(e),y(e),e.completed&&(V(),p())}n.useEffect(function(){return V(),R.current=window.setInterval(Z,1e3),function(){return V()}},[f]);var A=n.useMemo(function(){return r({"--fcc-flip-duration":z+"s","--fcc-digit-block-width":c(null==M?void 0:M.width),"--fcc-digit-block-height":c(null==M?void 0:M.height),"--fcc-shadow":null==M?void 0:M.boxShadow,"--fcc-digit-font-size":c(null==M?void 0:M.fontSize),"--fcc-digit-color":null==M?void 0:M.color,"--fcc-label-font-size":c(null==_?void 0:_.fontSize),"--fcc-label-color":null==_?void 0:_.color,"--fcc-divider-color":null==T?void 0:T.color,"--fcc-divider-height":c(null==T?void 0:T.height),"--fcc-background":(null==M?void 0:M.background)||(null==M?void 0:M.backgroundColor),"--fcc-separator-size":c(null==O?void 0:O.size),"--fcc-separator-color":E?null==O?void 0:O.color:"transparent"},m)},[m,M,_,z,T,O,E]),G=n.useMemo(function(){if(M)return r({},M,{background:void 0,backgroundColor:void 0,width:void 0,height:void 0,boxShadow:void 0,fontSize:void 0,color:void 0})},[M]),K=n.useMemo(function(){var e,t,n=(e=H.timeDelta,t=i((new Date).getTime()+1e3*(e.total-1)),{days:{current:l(e.days),next:l(t.days)},hours:{current:l(e.hours),next:l(t.hours)},minutes:{current:l(e.minutes),next:l(t.minutes)},seconds:{current:l(e.seconds),next:l(t.seconds)}}),r=D.length>=4?D.slice(0,4):u,o=N.length>=4?N.slice(0,4):s,c=Object.values(n),a=[];return r.forEach(function(e,t){e&&a.push([c[t],o[t]])}),a},[D,H]);return null!=H&&H.completed&&B?n.createElement(n.Fragment,null,h):n.createElement("div",Object.assign({},I,{className:t("_qWTcH",(d={},d._1tbqx=S,d),v),style:A,"data-testid":"fcc-container"}),K.map(function(e,t){var r=e[0];return n.createElement(n.Fragment,{key:"digit-block-"+t},n.createElement("div",{className:"_3cpN7"},S&&n.createElement("div",{className:"_2aOn7",style:_},e[1]),r.current.map(function(e,t){return n.createElement(o,{key:t,current:e,next:r.next[t],style:G})})),t<K.length-1&&n.createElement("div",{className:"_2hRXr"}))}))};
//# sourceMappingURL=index.js.map
