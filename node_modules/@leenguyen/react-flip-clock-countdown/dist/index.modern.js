import e from"clsx";import t from"react";function n(){return(n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function r(r){var o,i=r.current,l=r.next,c=r.className,a=r.style,s=t.useState({current:i,next:l}),u=s[0],d=s[1],f=t.useState(!1),v=f[0],m=f[1];return t.useEffect(function(){u.current!==i?(u.current===u.next&&d(n({},u,{next:l})),m(!0)):m(!1)},[i,l]),t.createElement("div",{className:e("_2EBbg",c),style:a},t.createElement("div",{className:"_SKh-V"},u.next),t.createElement("div",{className:"_106d2"},u.current),t.createElement("div",{className:e("_3luxx",(o={},o._2kgZC=v,o)),onTransitionEnd:function(){d({current:i,next:l}),m(!1)}},t.createElement("div",{className:e("_2v-d4","_1GZQ7")},u.current),t.createElement("div",{className:e("_2v-d4","_3AVXa")},u.next)))}function o(e){var t=new Date(e);if(isNaN(t.getTime()))throw Error("Invalid date");var n=new Date,r=Math.round((t.getTime()-n.getTime())/1e3);return r<0&&(r=0),{total:r,days:Math.floor(r/86400),hours:Math.floor(r/3600%24),minutes:Math.floor(r/60%60),seconds:Math.floor(r%60)}}function i(e){return("0".repeat(Math.max(0,2-String(e).length))+String(e)).split("")}function l(e){if(void 0!==e)return"string"==typeof e?e:e+"px"}var c=["to","className","style","children","onComplete","onTick","showLabels","showSeparators","labels","labelStyle","digitBlockStyle","separatorStyle","dividerStyle","duration","renderMap","hideOnComplete"],a=[!0,!0,!0,!0],s=["Days","Hours","Minutes","Seconds"];export default function(u){var d,f=u.to,v=u.className,m=u.style,h=u.children,g=u.onComplete,p=void 0===g?function(){}:g,b=u.onTick,y=void 0===b?function(){}:b,x=u.showLabels,S=void 0===x||x,w=u.showSeparators,E=void 0===w||w,k=u.labels,N=void 0===k?s:k,_=u.labelStyle,M=u.digitBlockStyle,O=u.separatorStyle,T=u.dividerStyle,z=u.duration,C=void 0===z?.7:z,j=u.renderMap,D=void 0===j?a:j,B=u.hideOnComplete,I=void 0===B||B,q=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t.indexOf(n=i[r])>=0||(o[n]=e[n]);return o}(u,c),F=t.useState(X),H=F[0],L=F[1],R=t.useRef(0);function V(){window.clearInterval(R.current)}function X(){var e=o(f);return{timeDelta:e,completed:0===e.total}}function Z(){var e=X();L(e),y(e),e.completed&&(V(),p())}t.useEffect(function(){return V(),R.current=window.setInterval(Z,1e3),function(){return V()}},[f]);var A=t.useMemo(function(){return n({"--fcc-flip-duration":C+"s","--fcc-digit-block-width":l(null==M?void 0:M.width),"--fcc-digit-block-height":l(null==M?void 0:M.height),"--fcc-shadow":null==M?void 0:M.boxShadow,"--fcc-digit-font-size":l(null==M?void 0:M.fontSize),"--fcc-digit-color":null==M?void 0:M.color,"--fcc-label-font-size":l(null==_?void 0:_.fontSize),"--fcc-label-color":null==_?void 0:_.color,"--fcc-divider-color":null==T?void 0:T.color,"--fcc-divider-height":l(null==T?void 0:T.height),"--fcc-background":(null==M?void 0:M.background)||(null==M?void 0:M.backgroundColor),"--fcc-separator-size":l(null==O?void 0:O.size),"--fcc-separator-color":E?null==O?void 0:O.color:"transparent"},m)},[m,M,_,C,T,O,E]),G=t.useMemo(function(){if(M)return n({},M,{background:void 0,backgroundColor:void 0,width:void 0,height:void 0,boxShadow:void 0,fontSize:void 0,color:void 0})},[M]),K=t.useMemo(function(){var e,t,n=(e=H.timeDelta,t=o((new Date).getTime()+1e3*(e.total-1)),{days:{current:i(e.days),next:i(t.days)},hours:{current:i(e.hours),next:i(t.hours)},minutes:{current:i(e.minutes),next:i(t.minutes)},seconds:{current:i(e.seconds),next:i(t.seconds)}}),r=D.length>=4?D.slice(0,4):a,l=N.length>=4?N.slice(0,4):s,c=Object.values(n),u=[];return r.forEach(function(e,t){e&&u.push([c[t],l[t]])}),u},[D,H]);return null!=H&&H.completed&&I?t.createElement(t.Fragment,null,h):t.createElement("div",Object.assign({},q,{className:e("_qWTcH",(d={},d._1tbqx=S,d),v),style:A,"data-testid":"fcc-container"}),K.map(function(e,n){var o=e[0];return t.createElement(t.Fragment,{key:"digit-block-"+n},t.createElement("div",{className:"_3cpN7"},S&&t.createElement("div",{className:"_2aOn7",style:_},e[1]),o.current.map(function(e,n){return t.createElement(r,{key:n,current:e,next:o.next[n],style:G})})),n<K.length-1&&t.createElement("div",{className:"_2hRXr"}))}))}
//# sourceMappingURL=index.modern.js.map
